# 이진 탐색 트리

이진 탐색 트리(Binary Search Tree, BST)는 이진 트리의 일종으로, 이진 트리를 탐색용 자료구조로 사용하기 위해 원소 크기에 따라 노드의 위치를 정한 트리.

이진 탐색 트리는 다음과 같은 특징을 가진다.

1. 모든 원소는 서로 다른 유일한 키를 가진다.
2. 왼쪽 서브트리에 있는 모든 노드의 키는 루트 노드의 키보다 작다.
3. 오른쪽 서브트리에 있는 모든 노드의 키는 루트 노드의 키보다 크다.
4. 왼쪽 서브트리와 오른쪽 서브트리도 이진 탐색 트리이다.

이진 탐색 트리는 이진 탐색(Binary Search)을 트리 구조로 구현한 것으로, 이진 탐색 트리에서 원소를 탐색하는 시간 복잡도는 O(logN)이다.

## 이진 탐색 트리의 탐색 연산

키값이 x인 원소를 탐색하는 경우.

- (키값 x == 루트 노드의 키값)인 경우 : 원하는 원소를 찾았으므로 탐색 연산 성공.
- (키값 x < 루트 노드의 키값)인 경우 : 왼쪽 서브트리에서 탐색 연산을 수행.
- (키값 x > 루트 노드의 키값)인 경우 : 오른쪽 서브트리에서 탐색 연산을 수행.

<img width="479" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/421282cf-ed74-4367-b462-f5832cfc15df">

## 이진 탐색 트리의 삽입 연산

- 이진 탐색 트리에서 원소를 삽입하려면 이진 탐색 트리에 같은 원소가 있는지 먼저 확인해야 함.
- 탐색에 성공하면 이미 같은 원소가 트리에 있다는 뜻이므로 삽입 연산을 수행하지 않음.
- 탐색에 실패하면 삽입하려는 원소가 트리에 없다는 의미이므로 탐색 실패가 발생한 현재 위치에 원소 삽입

아래는 이진 탐색 트리에서 삽입 연산을 하는 알고리즘
(삽입할 자리를 찾기 위해 포인터 p를 사용하고, 삽입할 노드의 부모 노드를 지정하기 위해 포인터 p를 사용한다.)
<img width="480" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/1423a9a5-2140-4c42-8cb9-0b2b512f5ee6">

이진 탐색 트리에 원소 4를 삽입하는 연산
<img width="528" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/ea3a4f8c-933a-4f91-834c-39fde831cf04">

## 이진 탐색 트리의 삭제 연산

- 먼저 노드의 위치를 탐색하는 작업을 수행해야 함.
- 삭제할 노드는 자식 노드 수에 따라 다음 3가지 중 하나
  1. 식제할 노드가 단말 노드인 경우 (차수 == 0)
  2. 삭제할 노드가 자식 노드를 한 개 가진 경우 (차수 == 1)
  3. 삭제할 노드가 자식 노드를 두 개 가진 경우 (차수 == 2)

**삭제할 노드가 단말 노드인 경우(차수 = 0)인 삭제 연산**

- 삭제할 노드가 단말 노드인 경우, 삭제할 노드의 부모 노드의 링크 필드를 NULL로 설정하면 됨.
- 예를 들어 이진 탐색 트리에서 단말 노드 4를 삭제하려면 삭제할 노드를 탐색해 위치를 찾고, 노드를 삭제한 후 부모 노드 5의 왼쪽 자식 노드 링크 필드를 NULL로 설정하면 됨.
  <img width="488" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/530e9aac-83e1-4fc3-acbf-08e764af707a">

**삭제할 노드가 자식 노드를 한 개 가진 경우(차수 = 1)인 삭제 연산**

- 삭제할 노드가 자식 노드를 한 개 가진 경우, 삭제할 노드의 부모 노드와 삭제할 노드의 자식 노드를 연결하면 됨.
- 자식 노드가 부모 노드의 자리를 물려받는 것.
- 예를 들어 자식 노드를 하나 가진 부모 노드 10을 삭제하려면 자식 노드인 14가 부모 노드 10의 자리를 물려받아 이진 탐색 트리를 재구성
  <img width="503" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/a01add51-4cd3-4ddb-a2bf-e7a1e113a886">

**삭제할 노드가 자식 노드를 두 개 가진 경우(차수 = 2)인 삭제 연산**

- 자식 노드를 두 개 가지고 있는 노드를 삭제하는 경우에도 삭제 노드 자리를 자식 노드에게 물려주는 후처리 작업을 해야함
- 노드가 삭제되고 자손 노드에게 자리를 물려준 후에도 이진 탐색 트리가 유지되어야 함
- 이진 탐색 트리의 정의를 만족해야 하므로 후계자로 선택된 자손 노드의 키값은 왼쪽 서브 트리에 있는 노드들의 키 값보다 커야하고 오른쪽 서브 트리에 있는 노드들의 키 값보다 작아야 함
- 삭제할 노드의 왼쪽 서브트리에서 가장 큰 노드나 오른쪽 서브트리에서 가장 작은 노드를 찾아 삭제할 노드의 위치로 옮긴 후 삭제할 노드를 삭제하는 방법을 사용.

<img width="351" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/1fb74105-a0ea-4977-9357-6100e12b5034">

<img width="471" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/1c014842-6c57-4bcd-9f91-e0f4d9a1114a">

**이진 탐색 트리의 노드 삭제 알고리즘**

<img width="473" alt="image" src="https://github.com/HoyeongJeon/DKU/assets/78394999/1336e2f8-bffb-4bcb-a0b5-faa8c7f91045">
